<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Users | Admin</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <%- include('partials/header') %>
  <main>
    <div class="container" style="max-width: 1200px; margin: 2rem auto; padding: 0 1.5rem;">
      <h1 style="color: var(--yellow); text-align: center; margin-bottom: 1rem;">
        Manage Users
      </h1>
      <p style="text-align: center; color: #b8b8b8; margin-bottom: 2rem;">
        Use this to invite contributors/editors. Toggle the Contributor status.
      </p>
    <table style="width:100%; max-width: 1200px; border-collapse: collapse; margin: 2rem auto; background: rgba(0,0,0,0.4); border: 1px solid rgba(0,255,255,0.3); border-radius: 8px; overflow: hidden;">
  <thead style="background: rgba(0,255,255,0.15); color: #00ffff;">
    <tr>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">ID</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Username</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Email</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Display Name</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Admin?</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Contributor?</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid rgba(0,255,255,0.3);">Action</th>
    </tr>
  </thead>
  <tbody>
    <% users.forEach(u => { %>
      <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
        <td style="padding: 12px; color: #ddd;"><%= u.id %></td>
        <td style="padding: 12px; color: #00ffff;"><%= u.username %></td>
        <td style="padding: 12px; color: #ccc;"><%= u.email || 'N/A' %></td>
        <td style="padding: 12px; color: #eee;"><%= u.display_name || u.username %></td>
        <td style="padding: 12px; color: <%= u.is_admin ? '#ff00ff' : '#888' %>;"><%= u.is_admin ? 'Yes' : 'No' %></td>
        <td style="padding: 12px; color: <%= u.is_contributor ? '#00ff00' : '#888' %>;"><%= u.is_contributor ? 'Yes' : 'No' %></td>
        <td style="padding: 12px;">
          <form action="/admin/users/<%= u.id %>/toggle-contributor" method="POST">
            <button type="submit" style="padding: 6px 12px; background: <%= u.is_contributor ? '#ff4444' : '#00cc00' %>; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
              <%= u.is_contributor ? 'Revoke Contributor' : 'Make Contributor' %>
            </button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
  </main>
  <%- include('partials/footer') %>
</body>
</html>
